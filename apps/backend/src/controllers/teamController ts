import { Request, Response } from "express";
import * as teamService from "../services/teamService";

export const getTeams = async (req: Request, res: Response) => {
  const teams = await teamService.getAllTeams();
  res.json(teams);
};

export const getTeam = async (req: Request, res: Response) => {
  const id = parseInt(req.params.id);
  const team = await teamService.getTeamById(id);
  res.json(team);
};

export const createTeam = async (req: Request, res: Response) => {
  const { name } = req.body;
  const team = await teamService.createTeam({ name });
  res.status(201).json(team);
};

export const updateTeam = async (req: Request, res: Response) => {
  const id = parseInt(req.params.id);
  const team = await teamService.updateTeam(id, req.body);
  res.json(team);
};

export const deleteTeam = async (req: Request, res: Response) => {
  const id = parseInt(req.params.id);
  await teamService.deleteTeam(id);
  res.status(204).send();
};
